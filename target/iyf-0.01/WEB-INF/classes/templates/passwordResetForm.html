<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="com/base::layout(~{::body})">

<head th:include="com/base :: headerFragment">
<title id="pageTitle">Menu</title>

<title>Register New User Form</title>

<meta charset="utf-8">
<style>
.error {
	color: red
}
</style>

</head>

<body>

	<div class="page-content">

		<div class="row p-t-20">

			<div id="loginbox">

				<div class="panel panel-primary">

					<div class="panel-heading">
						<div class="panel-title">Register New User</div>
					</div>

					<div style="padding-top: 30px" class="panel-body">

						<!-- Registration Form -->
						<form th:action="@{/register/resetPassword}"
							th:object="${crmUser}" method="POST" class="form-horizontal">
							
							<div class="col-md-12">
							<!-- Place for messages: error, alert etc ... -->
								<div class="form-group">
									<div class="col-md-12">
										<div>
											<!-- Check for registration error -->
											<div th:if="${registrationError}"
												class="alert alert-danger col-xs-offset-1 col-xs-10">
												<span th:text="${registrationError}"></span>
											</div>
	
										</div>
									</div>
								</div>
							<!-- User name -->


							<div class="col-md-3">
								<!-- Password -->
								<div style="margin-bottom: 25px" class="input-group">
									<span class="input-group-addon"><i
										class="glyphicon glyphicon-lock"></i></span> <input type="password"
										th:field="*{password}" placeholder="password (*)"
										class="form-control" th:errorclass="fieldError" />
								</div>
								<div th:if="${#fields.hasErrors('password')}"
									style="margin-bottom: 25px" class="text-danger">
									<ul>
										<li th:each="err : ${#fields.errors('password')}"
											th:text="'Password ' + ${err}" />
									</ul>
								</div>

							</div>
							<div class="col-md-3">
								<!-- Confirm Password -->
								<div style="margin-bottom: 25px" class="input-group">
									<span class="input-group-addon"><i
										class="glyphicon glyphicon-lock"></i></span> <input type="password"
										th:field="*{matchingPassword}"
										placeholder="confirm password (*)" class="form-control"
										th:errorclass="fieldError" />
								</div>

							</div>
							<div class="col-md-3">
								<div th:if="${#fields.hasErrors('matchingPassword')}"
									style="margin-bottom: 25px" class="text-danger">
									<ul>
										<li th:each="err : ${#fields.errors('matchingPassword')}"
											th:text="'Password ' + ${err}" />
									</ul>
								</div>

							</div>
						</div>
<hr>
							<!-- Register Button -->
							<div style="margin-top: 10px" class="form-group">
								<div class="col-md-6 controls">
									<button type="submit" class="btn btn-primary">Submit</button>
								</div>
							</div>

						</form>

					</div>

				</div>

			</div>
		</div>
	</div>

</body>
</html>